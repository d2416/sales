<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <meta name="description" content="Venta de seguros, la mejor consultoría y correduría de seguros">
    <meta name="keywords" content="seguros, insurance, venta, contratar, consultoría, asesoramiento, mejor correduría, mejores precios">
    
    <title>Insura Broker - Admin Categorías</title>
    
    <!-- Favicons -->
    <link th:href="@{/assets/img/logo/insuraBroker32.png}" href="../static/assets/img/logo/insuraBroker32.png" rel="icon">
    <link th:href="@{/assets/img/logo/insuraBroker180.png}" href="../static/assets/img/logo/insuraBroker180.png" rel="apple-touch-icon">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=League+Spartan:wght@300;600&display=swap" rel="stylesheet">
    
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
    
    <!-- Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.2/font/bootstrap-icons.css" rel="stylesheet" >
    
    <!-- cloudflare ajax lib -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />

    <!-- Css style-->
    <link rel='stylesheet' type='text/css' media='screen' th:href="@{/assets/css/styleadmin.css}" href='../../../static/assets/css/styleadmin.css'>

    <!-- <link rel="stylesheet" href="styles.css" /> 
      <script defer th:src="@{assets/js/admin.js}" src='main.js'></script>
    -->
    <!-- JavaScript Bundle with Popper -->
    <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>
	<script defer th:src="@{/assets/js/admin.js}" src='../../../static/assets/js/admin.js'></script>
</head>

<body id="top">
    <div class="d-flex" id="wrapper">
        <!-- Sidebar -->
        <div class="bg-dark white-text sidebar" id="sidebar-wrapper">
            <div class="list-group list-group-flush my-3 ">
                <h5 class="sidebar-heading text-center fw-bold fs-3 border-bottom"><span id="Insura">I</span>nsura Broker</h5>
                <ul class="navbar-nav justify-content-end flex-grow-1 pe-2 ">
                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/admin/}" aria-current="page" href="#">
                            <i class="bi bi-grid-3x3-gap-fill shadow m-2"></i>DashBoard</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link"  th:href="@{/admin/venta}"  href="#"><i class="bi bi-coin shadow m-2 lead"></i>Ventas</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#"><i class="bi bi-bar-chart-line-fill shadow m-2 lead"></i>Gráficos</a>
                    </li>           
                    <li class="nav-item dropdown"> 
                        <a class="nav-link dropdown-toggle" href="#" id="offcanvasNavbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            <i class="bi bi-wrench-adjustable-circle-fill shadow m-2 lead"></i>Gestión
                        </a>
                        <ul class="dropdown-menu bg-dark border-0" aria-labelledby="offcanvasNavbarDropdown">
                            <li><a class="dropdown-item" href="#"><i class="bi bi-shield-fill-plus shadow me-2 lead"></i>Alta Seguro</a></li>
                            <li><a class="dropdown-item" href="#"><i class="bi bi-person-plus shadow me-2 lead"></i>Alta Cliente</a></li>
                            <li><a class="dropdown-item" href="#"><i class="bi bi-bookmark-plus-fill shadow me-2 lead"></i>Alta Categoría</a></li>
                        </ul>   
                    </li>
                    <li class="nav-item dropdown active">
                        <a class="nav-link dropdown-toggle" href="#" id="offcanvasNavbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            <i class="bi bi-server shadow m-2 lead"></i>Tablas
                        </a>
                        <ul class="dropdown-menu bg-dark border-0" aria-labelledby="offcanvasNavbarDropdown">
                            <li><a class="dropdown-item active" th:href="@{/admin/tables/categoria}" href="#"><i class="bi bi-bookmark-fill shadow me-2 lead"></i>Categorías</a></li>
                            <li><a class="dropdown-item" th:href="@{/admin/tables/seguro}" href="#"><i class="bi bi-shield-shaded shadow me-2 lead"></i>Seguros</a></li>
                            <li><a class="dropdown-item" th:href="@{/admin/tables/cliente}" href="#"><i class="bi bi-person-lines-fill shadow me-2 lead"></i>Clientes</a></li>
                             <li>
                                <hr class="dropdown-divider bg-light"/>
                            </li>
                            <li><a class="dropdown-item" href="#"><i class="bi bi-person-circle shadow me-2 lead"></i>Empleados</a></li>
                        </ul>
                    </li>
                    <hr/>
                    <li class="nav-item">
                        <a class="nav-link" href="#"><i class="bi bi-power shadow m-2 lead text-danger"></i>Log-out</a>
                    </li>           
                </ul>
            </div>
        </div>
         <!-- /#sidebar-wrapper -->
        <!-- Page Content -->    
        <div id="page-content-wrapper">
            <header>       
                <!-- Start NavBar -->
                <nav th:replace="~{fragments/nav::nav}"></nav>
                <!-- End NavBar -->
            </header>

            <section>  
                <div class="container-fluid d-flex-block flex-wrap my-4 px-4">
                    <div th:if="${param.war}" class="alert alert-warning alert dismissible" role="alert">
	                	<button type="button" class="btn-close" data-bs-dismiss="alert"></button>
					  	¡Categoría borrada con éxito!
					</div>
					<div th:if="${param.error}" class="alert alert-danger d-flex-inline alert dismissible" role="alert">
	                	<button type="button" class="btn-close" data-bs-dismiss="alert"></button>
					 	¡No se puede borrar este elemento!
					</div>
                    <!-- Breadcrumb -->
                    <div class="pagetitle px-4">
                        <h1>Categorías</h1>
                        <nav>
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item"><a th:href="@{/admin/}" href="index.html">Dashboard</a></li>
                            <li class="breadcrumb-item">Tablas</li>
                            <li class="breadcrumb-item active">Categorías</li>
                        </ol>
                        </nav>
                    </div>
                    <!-- End Breadcrumb -->
                    <div class="row flex-wrap g-3 my-2 px-4">
                    <!-- Reports -->
                        <div class="col-md-3">
                            <div class="p-3 bg-white shadow-lg d-flex justify-content-around align-items-center rounded">
                                <div>
                                    <h3 class="fs-2">nombre</h3>
                                    <p class="fs-5">Categoría más vendida</p>
                                </div>
                                <i class="fas fa-hand-holding-usd fs-1 primary-text border rounded-full secondary-bg p-3"></i>
                            </div>
                        </div>
                    </div>
                    <!-- End Reports -->
                    <div class="row flex-wrap my-4 px-4">
                        <!-- Tables -->
                        <h3 class="fs-4 mb-1 mt-1">Categorías</h3>
                        <div class="col table-responsive">
                            <table class="table caption-top bg-white m-auto rounded shadow-sm table-striped table-hover" summary="Tabla de categorías de Insura Broker"> 
                                <caption>Lista de categorías de Insura Broker</caption>
                                <thead>
                                    <tr class="table-primary">
                                        <th scope="col" width="50">ID</th>
                                        <th scope="col" width="100" class="text-center">Nombre</th>
                                        <th scope="col" width="50" class="text-info text-center">Editar</th>
                                        <th scope="col" width="50" class="text-danger text-center">Eliminar</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr th:each="categoria : ${listaCategorias}">
                                        <th scope="row" th:text="${categoria.idCategoria}">Id</th>
                                        <td class="text-center" scope="col" th:text="${categoria.nombre}">Nombre</td>
                                        <td class="text-center"><button type="button" class="btn btn-info btn-floating rounded-circle">
                                            <i class="bi bi-pen-fill"></i>
                                            </button>
                                        </td>
                                        	<td class="text-center"><button type="button" class="btn btn-danger rounded-circle" data-bs-toggle="modal"
											th:attr="data-bs-target='#myModalDelete'+${categoria.idCategoria}"><i class="bi bi-trash"></i></button>
										</td>
									<!--The Modal-->
									<div class="modal" id="myModalDel" th:id="'myModalDelete'+${categoria.idCategoria}">
										<div class="modal-dialog">
											<div class="modal-content">
		
												<!--Modal Header-->
												<div class="modal-header">
													<h5 class="modal-title">Eliminar</h5>
													<button type="button" class="btn-close" data-bs-dismiss="modal"></button>
												</div>
												<!--Modal body-->
												<div class="modal-body">
													<p>¿Esta seguro que desea eliminar este elemento?</p>
												</div>
												<!--Modal footer-->
												<div class="modal-footer">
										        <a th:href="@{/admin/tables/categoria}" class="btn btn-info btn-floating rounded-circle">
		                                            <i class="bi bi-arrow-return-left"></i></a>
										        <a th:href="@{/admin/eliminar/categoria/{id}(id=${categoria.idCategoria})}" class="btn btn-danger btn-floating rounded-circle">
	                                            	<i class="bi bi-trash"></i></a>
										        </div>
											</div>
										</div>
									</div>   
									<!-- End Modal -->
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <!-- End Table -->
                    </div>
                </div>
            </section>   
        </div>
    	<!-- End Content Wrapper -->
    </div>
   	 	<!-- Footer Start-->
	    <footer th:replace="~{fragments/footer::footer}"></footer>
	    <!-- End: footer --> 
	<a th:href="@{#top}" href="#top" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>
</body>    
</html>       