<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Insura Broker - Login</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <meta name="description" content="Venta de seguros, la mejor consultoría y correduría de seguros">
    <meta name="keywords" content="seguros, insurance, venta, contratar, consultoría, asesoramiento, mejor correduría, mejores precios">

    <!-- Favicons -->
    <link th:href="@{/assets/img/logo/insuraBroker32.png}" href="../static/assets/img/logo/insuraBroker32.png" rel="icon">
    <link th:href="@{/assets/img/logo/insuraBroker180.png}" href="../static/assets/img/logo/insuraBroker180.png" rel="apple-touch-icon">

    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css2?family=League+Spartan:wght@300;600&display=swap" rel="stylesheet">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link rel='stylesheet' type='text/css' media='screen' th:href="@{/assets/css/stylelogin.css}" href='../static/assets/css/stylelogin.css'>

    <!-- JavaScript Bundle with Popper -->
    <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>
    <script defer src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script defer th:src="@{/assets/js/login.js}" src='../static/assets/js/login.js'></script>
</head>
<body class="bg-dark-s" id="loginbody">
    <section id="#top">
        <div class="row g-0">
            <div class="col-lg-7 d-flex mb-auto">
                <div class="px-lg-5 pt-lg-4 pg-lg-3 w-100"
                data-aos="fade-down"
                data-aos-easing="linear"
                data-aos-duration="2500" >
                    <h1 class="d-flex fw-bold p-2">Cuidamos de ti...</h1>
                    <img th:src="@{/assets/img/logo/insuraBroker500.png}" src="../static/assets/img/logo/insuraBroker500.png" class="img-fluid flex-shrink-1" alt="logo Insura Broker"> 
                </div>
            </div>
            <div class="col-lg-5 d-flex flex-column align-items-end min-vh-50">
            
                <div class="px-lg-5 py-lg-4 p-4 w-100 align-self-center">
                    <h1 class="fw-bold mb-4">Bienvenidos a Insura Broker</h1> 
                    
                    <p class="fw-bold mb-4 text-danger" th:if="${loginError}">Error en el nombre de usuario y/o contraseña</p>
                    
                    <form class="mb-5 needs-validation" method="POST" th:action="@{/login}" sec:authorize="!isAuthenticated()">
                        <div class="mb-4 was-valited">
                            <label for="username" class="form-label fw-bold fs-5">Nombre Usuario</label>
                            <input type="text" name="username" class="form-control bg-dark-x text-light fw-bold border-0" placeholder="Introduce tu nombre de usuario" id="username" aria-describedby="userHelp" required>                       
                            <div class="invalid-feedback">
                                Por favor, introduzca un nombre de usuario válido.
                            </div>
                        </div>
                        <div class="mb-4 was-valited">
                            <label for="password" class="form-label fw-bold fs-5">Contraseña</label>
                            <input type="password" name="password" class="form-control bg-dark-x border-0 mb-2 text-light" placeholder="Introduce tu contraseña" id="password" required>
                            <div class="invalid-feedback">
                                Por favor, introduzca una contraseña válida.
                            </div>
                            <a href="#top" id="passwordHelp" class="forget-pass form-text text-light text-decoration-none">¿Has olvidado tu contraseña?
                        </div>
                        <!-- Modal -->
							<div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="true" data-bs-focus="true". tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
							  <div class="modal-dialog">
							    <div class="modal-content">
							      <div class="modal-header">
							        <h5 class="modal-title fw-bold" id="staticBackdropLabel">Recordatorio</h5>
							        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
							      </div>
							      <div class="modal-body">
							        <p class="text-info fs-6 fw-bold">Contraseña para admin: admin. Para user: user. Otros usuarios válidos: eva, contraseña: 1234. sergio, contraseña: user1234.</p>
							      </div>
							      <div class="modal-footer">
							        <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Entendido</button>
							      </div>
							    </div>
							  </div>
							</div>
						<!-- End Modal -->
                        <div class="mb-4 form-check was-valited">
                            <input type="checkbox" class="form-check-input" id="checkRecuerda" required>
                            <label class="form-check-label text-light" for="checkRecuerda">Acepto los términos y condiciones</label>
                            <div class="invalid-feedback">
                               Debes aceptar antes.
                            </div>
                        </div>
                        <button type="submit" class="btn btn-primary rounded-pill loginText w-100 fs-4 border border-4 fw-bold">Iniciar Sesión</button>
                    </form>
                    <br/>
                    <a th:href="@{/}" href="index.html" class="btn btn-primary rounded-pill align-middle loginText w-100 fs-4 border border-4 fw-bold">Volver al index</a>
                     <div sec:authorize="isAuthenticated()" >
                     <!-- Redirigir al @/redirect-->
				        <a th:href="@{/logout}" href="index.html" class="btn btn-danger rounded-pill align-middle loginText w-100 fs-4 border border-4 fw-bold">Salir</a>
				        <a th:href="@{/admin/}" href="admin.html" class="btn btn-primary rounded-pill align-middle loginText w-100 fs-4 border border-4 fw-bold">Ir al Dashboard</a>
			    	</div>
                </div>
            </div>
        </div>
    </section>
</body>
</html>